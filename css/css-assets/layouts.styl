// LAYOUTS
@import '../assets/imports.styl'

.script-l
	font-family 'reklame-script'
	color white
	position absolute
	z-index 5
	text-align center
	width 100%
	font-size 50px
	transform translateZ(0)

	&.is-status-quo
		font-size 130px
		top 50%
		margin-top -100px

	&.is-1
		bottom 0
		// margin-top 40px
		opacity 0

	scriptWidth = 540px
	&.is-2
		color white
		top 50%
		margin-top - 50px
		z-index 0
		left 50%
		// margin-left -(scriptWidth/2)
		width scriptWidth
		transform translateZ(0)


.layer
	position absolute
	nw 0
	rect 100%

animationTime   = 200s
animationEasing = ease
groundHeight = 145px
.curtain3-l
	background #72d2d1
	rect 100%
	position absolute
	nw 0
	z-index 1

	&.is-show-bushes
		.curtain3--bush-lh
			transform rotateX(0)

	.roller-coaster-b
		position absolute
		bottom groundHeight
		z-index 3
		right 0
		width 100%

	// BUSHES
	.curtain3--bush-lh
		position 	absolute
		bottom 		groundHeight
		transform rotateX(90deg)
		transition all .5s cubic-bezier(0.835, -0.025, 0.265, 1.550)
		transform-origin 50% bottom
		
	.curtain3--bush1-lh
		margin-bottom -40px
		left  -10px
		z-index 2
		transition-delay .45s

	.curtain3--bush2-lh
		margin-bottom -52px
		left  30px
		z-index 1
		transition-delay .45s

	.curtain3--bush3-lh
		margin-bottom -100px
		left  110px
		z-index 1

	.curtain3--bush4-lh
		rect 256px
		left 50%
		margin-left   -128px
		margin-bottom -128px
		z-index 2
		transition-delay 1s

	.curtain3--bush5-lh
		rect 100px
		left 50%
		margin-left -210px
		margin-bottom -56px
		transition-delay 1.25s
		z-index 1


	.curtain3--bush6-lh
		rect 130px
		left 50%
		margin-left -40px
		margin-bottom -70px
		z-index 2
		transition-delay .35s

	.curtain3--bush7-lh
		rect 130px
		left 50%
		margin-left -280px
		margin-bottom -60px
		z-index 2
		transition-delay .5s

	.curtain3--bush8-lh
		rect 256px
		left 50%
		margin-bottom -128px
		margin-left   -50px
		z-index 1
		transition-delay .75s

	.curtain3--bush9-lh
		left 50%
		margin-bottom -90px
		margin-left   160px
		z-index 2
		transition-delay 1s

	.curtain3--bush10-lh
		rect 100px
		left 50%
		margin-bottom -50px
		margin-left   220px
		z-index 1
		transition-delay .65s

	.curtain3--bush11-lh
		rect 110px
		left 50%
		margin-bottom -50px
		margin-left   370px
		z-index 1
		transition-delay .75s

	.curtain3--bush12-lh
		rect 100px
		right 30px
		margin-bottom -50px
		z-index 1
		transition-delay 1s

	// PLANE
	.curtain3-plane-lh
		position absolute
		top 5%
		left 100%
		width 100%
		z-index 4
		transform translateZ(0)

		.plane-n-text-l
			left 50%
			position absolute
			margin-left - 380px



	// BUILDINGS
	.building-b
		position absolute
		bottom groundHeight
		transform translateY(150%)
		bottom 0

	leftSize  = 1
	widthSize = 10
	progress = leftSize + widthSize
	.curtain3-building1-lh
		left (leftSize)%
		width (widthSize)%
		height 25%

	leftSize = progress + 1
	widthSize = 5
	progress = leftSize + widthSize
	.curtain3-building2-lh
		left (leftSize)%
		width (widthSize)%
		height 35%

	leftSize = progress + 1
	widthSize = 5
	progress = leftSize + widthSize
	.curtain3-building3-lh
		left (leftSize)%
		width (widthSize)%
		height 20%


	leftSize = progress + 1
	widthSize = 10
	progress = leftSize + widthSize
	.curtain3-building4-lh
		left (leftSize)%
		width (widthSize)%
		height 10%

	leftSize = progress + 1
	widthSize = 7
	progress = leftSize + widthSize
	.curtain3-building5-lh
		left (leftSize)%
		width (widthSize)%
		height 30%

	leftSize = progress + 1
	widthSize = 5
	progress = leftSize + widthSize
	.curtain3-building6-lh
		left (leftSize)%
		width (widthSize)%
		height 55%


	leftSize = progress + 1
	widthSize = 8
	progress = leftSize + widthSize
	.curtain3-building7-lh
		left (leftSize)%
		width (widthSize)%
		height 60%


	leftSize = progress + 1
	widthSize = 6
	progress = leftSize + widthSize
	.curtain3-building8-lh
		left (leftSize)%
		width (widthSize)%
		height 50%

	leftSize = progress + 1
	widthSize = 4
	progress = leftSize + widthSize
	.curtain3-building9-lh
		left (leftSize)%
		width (widthSize)%
		height 55%


	leftSize = progress + 1
	widthSize = 11
	progress = leftSize + widthSize
	.curtain3-building10-lh
		left (leftSize)%
		width (widthSize)%
		height 35%

	leftSize = progress + 1
	widthSize = 4
	progress = leftSize + widthSize
	.curtain3-building11-lh
		left (leftSize)%
		width (widthSize)%
		height 25%

	leftSize = progress + 1
	widthSize = 6
	progress = leftSize + widthSize
	.curtain3-building12-lh
		left (leftSize)%
		width (widthSize)%
		height 30%

	leftSize = progress + 1
	widthSize = 5
	progress = leftSize + widthSize
	.curtain3-building13-lh
		left (leftSize)%
		width (widthSize)%
		height 35%

	
	animationDuration = 100s
	.curtain3-cloud-holder-lh
		position absolute
		rect 100%
		top 0
		left 0
		// left 100%
		animation cloud-float animationDuration linear infinite

	.curtain3-cloud-holder1-lh, .curtain3-cloud-holder2-lh, .curtain3-cloud-holder4-lh
		animation-duration 2*animationDuration

	.curtain3-cloud-holder5-lh,
	.curtain3-cloud-holder5-1-lh, .curtain3-cloud-holder5-2-lh			
		animation-duration 1.5*animationDuration

	.curtain3-cloud1-lh, .curtain3-cloud2-lh
		position absolute
		top 9%
		left 14%
		transform scale(.9)

	.curtain3-cloud2-lh
		left 95%
		top 8%

	.curtain3-cloud3-lh
		left 0%
		top  34%
		transform scale(1.5)

	.curtain3-cloud3-1-lh
		left 80%
		top  30%
		transform scale(1.35)

	.curtain3-cloud4-lh
		left 65%
		top  14%
		transform scale(.95)


	.curtain3-cloud5-lh
		left 50%
		top  18%
		transform rotateY(180deg) scale(1.45)
	.curtain3-cloud5-1-lh
		left 0%
		top  22%
		transform scale(1.45)
	.curtain3-cloud5-2-lh
		left 110%
		top  16%
		transform scale(1.45)


	> .bg-ll
		background #72d2d1 url('i/curtain-dots-bg3.png') repeat
		position absolute
		nw 0
		rect 100%
		opacity 0

	> .ground-ll
		height groundHeight
		position absolute
		bottom 0
		width 100%
		transform translateY(100%)
		background #493542 url('i/curtain-dots-bg3.png') repeat
		background-position 0 -200px
		z-index 5

// .curtain-l, .curtain2-l
// 	display none II

curtainMaskSize = 22px
sectionWidth = 65px
sectionsCount = 24
sideWidth = sectionsCount*sectionWidth
coef = 10
.curtain2-l
	height 100%
	width 100%
	l 0
	top 100%
	position absolute
	padding-top curtainMaskSize
	text-align center
	overflow hidden
	z-index 2
	cbox()

	.curtain2-konfetti-lh
		position absolute
		nw 0
		rect 100%
		z-index 3

	.curtain-layer-lh
		rect 100%
		posxition absolute
		top 0
		left 0
		overflow hidden
		transform translateZ(0)

		.no-amimation-g &
			animation none

	easingName = linear
	animationTime = (2*coef)s
	animationTime2 = (1.25*coef)s
	animationTime3 = (1*coef)s
	.image1, .image2
		background url('i/curtain-dots-bg3.png') repeat
		animation snowFall animationTime easingName infinite

	.image2
		animation snowFall2 animationTime easingName infinite

	.image3, .image4, .image5, .image6
		background url('i/curtain2-konfetti1.png') repeat
		animation snowFall animationTime easingName infinite

	.image5, .image6
		animation snowFall2 animationTime easingName infinite

	.image4, .image6
		background url('i/curtain2-konfetti2.png') repeat
		-webkit-animation-duration  animationTime2
		-moz-animation-duration  animationTime2
		-o-animation-duration  animationTime2
		animation-duration  animationTime2

	.image3, .image5
		-webkit-animation-duration  animationTime3
		-moz-animation-duration  animationTime3
		-o-animation-duration  animationTime3
		animation-duration  animationTime3

	.curtain2-wrapper-lh
		width 1px
		height 100%
		display inline-block

	.curtain2-body-lh
		margin-left - sideWidth
		width 2*sideWidth
		height 100%
		position relative
		
	.curtain2-mask-lh
		height curtainMaskSize
		width 100%
		position absolute
		left 0
		top - curtainMaskSize
		background url('i/curtain-mask.svg') repeat-x

	.curtain2-left-lh, .curtain2-right-lh
		width sectionsCount*sectionWidth
		height 100%
		overflow hidden
		float left
		position relative
	.curtain2-right-lh
		margin-left - sectionWidth

		.image1, .image2
			margin-left sectionWidth


	.curtain2-section-lh
		height 100%
		width sectionWidth
		float left
		position relative
		margin-bottom 100%
		background-color #22a6df
		border-bottom-left-radius  26px
		border-bottom-right-radius 26px
		z-index 2
		top 0

		&:before
			content ''
			width 100%
			height 40px
			position absolute
			background-color inherit
			top -20px
			l 0

		&.is-even
			border-bottom-left-radius  0
			border-bottom-right-radius 0
			z-index 0
			padding-bottom 40px
			background-color transparent


	.curtain2-section-inner-lh
		background-color darkBlue
		rect 100%
		height 100%
		overflow hidden
		cbox()
		padding-top 20px
		margin-top -20px
		box-shadow 20px 0 0 darkBlue, -20px 0 0 darkBlue

		&:before
			content: ''
			position absolute
			display block
			width 100%
			height 40px
			border-radius 50%
			bottom 0
			border-top 2px solid darkBlue
			box-shadow 0 -20px 0 darkBlue, 10px -20px 0 darkBlue, -10px -20px 0 darkBlue


			
coef = 10
easingName = ease
animationTime = (70*coef)s
/* 076c46b86ca2be8ed15c0aa79a53c76a */
.curtain-l
	background-color #ff6d6a
	position absolute
	rect 100%
	nw 0
	cbox()
	padding-bottom curtainMaskSize
	overflow hidden
	z-index 2
	// display none

	.curtain-layer-lh
		rect 200%
		position absolute
		nw -50%
		transform translateZ(0)
		transform-origin 50% 50%

		.no-amimation-g &
			animation none

	.image1
		background url('i/curtain-dots-bg1.png') repeat
		animation rotate animationTime easingName infinite alternate

	animationTime = (65*coef)s
	.image2
		background url('i/curtain-dots-bg2.png') repeat
		animation rotateReverse animationTime easingName infinite alternate

	
	animatinTime = (60*coef)s
	.image3
		background url('i/curtain-dots-bg3.png') repeat
		animation rotate animatinTime easingName infinite alternate
 
	animatinTime = (50*coef)s
	.image4
		background url('i/curtain-logos-bg1.png') repeat
		animation rotate animatinTime easingName infinite	 alternate
		

	animatinTime = (55*coef)s
	.image5
		background url('i/curtain-logos-bg2.png') repeat
		animation rotateReverse animatinTime easingName infinite	 alternate
		

	animatinTime = (45*coef)s
	.image6
		background url('i/curtain-logos-bg3.png') repeat
		animation rotateReverse animatinTime easingName infinite	 alternate

	animatinTime = (40*coef)s
	.image7
		background url('i/curtain-logos-bg4.png') repeat
		animation rotate animatinTime easingName infinite	 alternate

	
	// svg
	// 	rect 100%

/* 76c1adee9e0430fc11ba2f1521e25b19 */
.plane-n-text-l
	position relative
	transition all .5s linear
	transform-origin 380px 0
	width 760px
	.ribbon-b
		position absolute
		top 5px
		left 234px

	&.is-flip
		transform rotateY(180deg) translateZ(0)

		.plane-n-text--text-bh
			transform rotateY(-180deg) translateZ(0)


.main-l
	min-rect 100%
	position: absolute
	z-index: 0
	top: 0
	bottom: 0
	left: 0
	background: white
	overflow: hidden
	rect 100%

	scrollerSize = 999999px
	#scroller 
		height scrollerSize
		position: absolute;
		z-index: 0;
		-webkit-tap-highlight-color: rgba(0,0,0,0);
		rect 100%
		width 100%
		transform: translateZ(0) II
		-webkit-touch-callout: none;
		-webkit-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select: none;
		-webkit-text-size-adjust: none;
		-moz-text-size-adjust: none;
		-ms-text-size-adjust: none;
		-o-text-size-adjust: none;
		text-size-adjust: none;
		// background-color: gray
		// background-image: linear-gradient(transparent 50%, rgba(255,255,255,.5) 50%)
		// background-size: 50px 50px
